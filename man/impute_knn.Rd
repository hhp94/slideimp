% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/SlideKnn.R
\name{impute_knn}
\alias{impute_knn}
\title{KNN Imputation Wrapper}
\usage{
impute_knn(
  obj,
  k,
  rowmax,
  colmax,
  cores,
  method,
  post_imp,
  subset,
  weighted,
  dist_pow,
  tree,
  knn_imp,
  nboot,
  seed,
  ...
)
}
\arguments{
\item{obj}{A numeric matrix with \strong{samples in rows} and \strong{features in columns}.
Can also be a path to the description file of, or a \code{\link[bigmemory:big.matrix]{bigmemory::big.matrix()}}.}

\item{k}{Integer specifying the number of nearest neighbors to use for imputation.
Must be between 1 and (\code{n_feat} - 1).}

\item{rowmax}{Numeric between 0 and 1 specifying the maximum allowable proportion
of missing values in any row. If exceeded, the function stops with an error.}

\item{colmax}{Numeric between 0 and 1 specifying the threshold proportion of
missing values in a column above which the column is imputed using the mean
instead of k-NN if \code{post_imp} is true.}

\item{cores}{Integer specifying the number of cores to use for parallel computation
of distances. Default is 1.}

\item{method}{Character string specifying the distance metric for k-NN. One of
\code{"euclidean"}, \code{"manhattan"}, or \code{"impute.knn"}. Defaults to \code{"euclidean"}.}

\item{post_imp}{Logical; if \code{TRUE} (default), any missing values remaining after
k-NN imputations will be imputed with \code{\link[=mean_impute_col]{mean_impute_col()}}.}

\item{subset}{Character vector of column names or integer vector of column indices
specifying the subset of columns to perform imputation. If \code{NULL} (default),
all columns are included.}

\item{weighted}{Logical; controls whether the imputed value should be a simple
mean or weighted mean by inverse distance. Default is \code{FALSE}.}

\item{dist_pow}{A positive double that controls the penalty for larger distances
in the weighted mean imputation. Must be greater than zero: values between 0
and 1 apply a softer penalty, 1 is linear (default), and values greater than
1 apply a harsher penalty.}

\item{tree}{Character string specifying the k-NN method. \code{NULL} (default) uses
brute-force search. \code{"kd"} uses KDTree and \code{"ball"} uses BallTree as implemented by
the mlpack package where missing values are first filled with column means
(biased at high percentage missing and less efficient at lower dimensions).}

\item{knn_imp}{Function object for KNN imputation. Required for function crating
in parallel environments.}

\item{nboot}{Integer specifying the number of bootstrap imputations to perform.
Default is 1.}

\item{seed}{Integer; random seed for reproducible bootstrap sampling. Default is 42.}

\item{...}{Additional arguments passed to \code{knn_imp}.}
}
\value{
A list of imputed matrices, with only qualifying rows imputed via KNN;
others remain unchanged. Length of list equals \code{nboot}.
}
\description{
A wrapper function for KNN imputation that filters rows based on missing value
proportions before imputing. Rows with missing proportions exceeding \code{rowmax}
are not imputed in this step to avoid throwing exceptions in \code{\link[=knn_imp]{knn_imp()}}.
}
\details{
This function serves as an intermediate layer between the sliding window algorithm
and the core KNN imputation function. It ensures that only rows with acceptable
missing value proportions are processed, preventing errors and improving
computational efficiency.
}
\seealso{
\code{\link[=knn_imp]{knn_imp()}}, \code{\link[=SlideKnn]{SlideKnn()}}
}
\keyword{internal}
